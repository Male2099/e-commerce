import{_ as M,o as d,c,g as k,i as b,a as e,k as i,v as a,u as P,F as v,b as w,t as u,T as x,e as f,p as U,h as S,j as y,d as q}from"./index-a6d04a70.js";import{c as _}from"./categoryApi-4394ae45.js";import{p as m}from"./productApi-67af33a0.js";import{_ as D}from"./edit-708c49a8.js";import{_ as C}from"./delete-f2050343.js";const V={},j={class:"w-full flex justify-between"},A=k('<form action="#" class="w-full" data-v-96e7d895><div class="w-fit p-4 rounded flex justify-between items-end gap-8 bg-gray-700 text-white M-sec1" data-v-96e7d895><div data-v-96e7d895><label data-v-96e7d895>Name</label><input type="text" required placeholder="product name" data-v-96e7d895></div><div data-v-96e7d895><label data-v-96e7d895>category</label><select required class="flex h-[1.72rem] items-center" data-v-96e7d895></select></div><div data-v-96e7d895><label data-v-96e7d895>Price</label><input type="number" step="0.01" min="0" value="0" required data-v-96e7d895></div><div data-v-96e7d895><label data-v-96e7d895>Quantity</label><input type="number" required value="0" data-v-96e7d895></div><div class="flex flex-col items-center gap-2" data-v-96e7d895><label data-v-96e7d895>Available</label><input type="checkbox" required checked class="h-6 w-6" data-v-96e7d895></div><button class="h-fit bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-v-96e7d895> Add product </button></div></form>',1),I=[A];function N(r,s){return d(),c("section",j,I)}const Y=M(V,[["render",N],["__scopeId","data-v-96e7d895"]]);const T={components:{AddProduct:Y},data(){return{open_deleteModal:!1,open_editeModal:!1,open_AddModal:!1,name:"",cate_id:"",price:0,quantity:1,imageUrl:"",discount:0,desc:"no desc",onSale:!0,categories:[],products:[],selected_id:"",selectedProduct:null,updateProudctData:null,imagePreview:null,imageFile:null}},methods:{async onCreateProduct(r){r.preventDefault(),await m.create({name:this.name,category_id:this.cate_id,price:this.price,quantity:this.quantity,imageUrl:this.imageUrl,discount:this.discount,desc:this.desc})||alert("failed to create product"),this.open_AddModal=!1,this.categories=await _.all(),this.products=await m.all()},formatDateDDMMYY_HHMMSS(r){const s=new Date(r),p=s.getDate().toString().padStart(2,"0"),g=(s.getMonth()+1).toString().padStart(2,"0"),o=s.getFullYear().toString().slice(-2),n=s.getHours().toString().padStart(2,"0"),t=s.getMinutes().toString().padStart(2,"0"),h=s.getSeconds().toString().padStart(2,"0");return`${p}-${g}-${o} ${n}:${t}:${h}`},async onDeleteProduct(){await m.delete(this.selected_id)||alert("failed to delete product"),this.categories=await _.all(),this.products=await m.all()},async onUpdateProduct(r){r.preventDefault(),await m.update(this.selectedProduct)||alert("failed to update product"),this.categories=await _.all(),this.products=await m.all(),this.open_editeModal=!1},previewImage(r){const s=r.target.files[0],p=new FileReader;p.onload=()=>{this.imagePreview=p.result},p.readAsDataURL(s)}},async mounted(){this.categories=await _.all(),this.products=await m.all()}},l=r=>(U("data-v-102512d2"),r=r(),S(),r),z={class:"min-h-screen flex flex-col p-4"},F={key:0},H={class:"fixed w-[100vw] min-h-[100vh] flex justify-center items-center top-0 left-0 z-20 background-opacity-70percent-black"},B={class:"w-full h-fit p-4 flex flex-col gap-4 items-center justify-center bg-gray-700 rounded relative"},Q=l(()=>e("img",{src:y,class:"M-cancel-on-hover"},null,-1)),L=[Q],R=["src"],E={class:"w-full p-4 rounded flex flex-wrap items-center justify-center gap-6 text-black M-sec1"},G={class:"relative w-[8rem]"},J=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Name",-1)),K={class:"relative w-[8rem]"},O=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Category",-1)),W=["value","selected"],X={class:"relative"},Z=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Price",-1)),$={class:"relative"},ee=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"QTY.",-1)),te={class:"relative"},se=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Discount",-1)),oe={class:"relative"},le=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Image Url",-1)),re=l(()=>e("br",null,null,-1)),de={class:"relative w-full"},ie=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Desciption",-1)),ne=l(()=>e("button",{class:"h-fit bg-blue-500 hover:bg-blue-700 text-white font-bold py-[5px] px-4 rounded"}," Update product ",-1)),ae=l(()=>e("div",null,null,-1)),ce=l(()=>e("div",null,null,-1)),ue={key:1},pe={class:"fixed w-[100vw] min-h-[100vh] flex justify-center items-center top-0 left-0 z-20 background-opacity-70percent-black"},me={class:"w-full h-fit p-4 flex flex-col gap-4 items-center justify-center bg-gray-700 rounded relative"},_e=l(()=>e("img",{src:y,class:"M-cancel-on-hover"},null,-1)),he=[_e],be=["src"],ve={class:"w-full p-4 rounded flex flex-wrap items-center justify-center gap-6 text-black M-sec1"},we={class:"relative w-[8rem]"},xe=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Name",-1)),fe={class:"relative w-[8rem]"},ye=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Category",-1)),ge=["value"],Pe={class:"relative"},Me=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Price",-1)),ke={class:"relative"},Ue=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"QTY.",-1)),Se={class:"relative"},qe=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Discount",-1)),De={class:"relative"},Ce=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Image Url",-1)),Ve=l(()=>e("br",null,null,-1)),je={class:"relative w-full"},Ae=l(()=>e("label",{class:"absolute top-[-1.3rem] text-[1rem] text-white"},"Desciption",-1)),Ie=l(()=>e("button",{class:"h-fit bg-blue-500 hover:bg-blue-700 text-white font-bold py-[5px] px-4 rounded"}," Add product ",-1)),Ne={key:2},Ye={class:"fixed w-[100vw] min-h-[100vh] flex justify-center items-center top-0 left-0 z-20 background-opacity-70percent-black"},Te={class:"w-[350px] h-fit p-4 pb-8 flex flex-col gap-4 items-center bg-white rounded"},ze=l(()=>e("div",null,[e("img",{class:"w-[5rem] filter-black",src:y,alt:""})],-1)),Fe=l(()=>e("div",{class:"text-[2rem] text-gray-800 font-semibold"}," Are your sure? ",-1)),He=l(()=>e("div",null,[e("p",{class:"text-center text-gray-500"}," Do you really want to remove this category? This process can not be undone ")],-1)),Be={class:"flex w-full justify-around mt-4"},Qe={class:"w-fit flex flex-col overflow-auto"},Le={class:"table-autu max-w-4xl"},Re=l(()=>e("thead",{class:"bg-[var(--dashboard-background)] font-bold text-white"},[e("tr",null,[e("th",{class:"px-3 border whitespace-nowrap py-2"},"#ID"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Name"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Category"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Price"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Quantity"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"onSale"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Discount"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Solve"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Latest order"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Action")])],-1)),Ee={class:"px-3 border whitespace-nowrap py-2"},Ge={class:"px-3 border whitespace-nowrap py-2"},Je={class:"px-3 border whitespace-nowrap py-2"},Ke={class:"px-3 border whitespace-nowrap py-2"},Oe={class:"px-3 border whitespace-nowrap py-2"},We={class:"px-3 border whitespace-nowrap py-2"},Xe={class:"px-3 border whitespace-nowrap py-2"},Ze={class:"px-3 border whitespace-nowrap py-2"},$e={class:"px-3 border whitespace-nowrap py-2"},et={class:"px-1 flex justify-evenly items-center py-2"},tt=["onClick"],st=l(()=>e("img",{src:D,class:"h-5"},null,-1)),ot=[st],lt=["onClick"],rt=l(()=>e("img",{src:C,class:"h-5"},null,-1)),dt=[rt];function it(r,s,p,g,o,n){return d(),c("div",z,[o.open_editeModal?(d(),c("div",F,[(d(),b(x,{to:"body"},[e("div",H,[e("form",{action:"#",onSubmit:s[9]||(s[9]=(...t)=>n.onUpdateProduct&&n.onUpdateProduct(...t))},[e("div",B,[e("button",{type:"button",onClick:s[0]||(s[0]=t=>o.open_editeModal=!1),class:"absolute top-2 right-3 h-fit w-fit z-10"},L),e("div",null,[e("img",{src:o.imagePreview,alt:"Preview",class:"w-[10rem] h-[10rem] object-contain border border-white"},null,8,R),e("input",{type:"file",id:"image",onChange:s[1]||(s[1]=(...t)=>n.previewImage&&n.previewImage(...t))},null,32)]),e("div",E,[e("div",G,[J,i(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>o.selectedProduct.name=t),required:"",placeholder:"Name",class:"w-full px-2 py-2 rounded-sm"},null,512),[[a,o.selectedProduct.name]])]),e("div",K,[O,i(e("select",{required:"","onUpdate:modelValue":s[3]||(s[3]=t=>o.selectedProduct.category_id=t),class:"w-full px-2 py-[.65rem] rounded-sm flex items-center"},[(d(!0),c(v,null,w(o.categories,t=>(d(),c("option",{key:t.name,value:t.id,selected:t.id===o.selectedProduct.category_id},u(t.name),9,W))),128))],512),[[P,o.selectedProduct.category_id]])]),e("div",X,[Z,i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.selectedProduct.price=t),type:"number",step:"0.01",min:"0",placeholder:"price",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.selectedProduct.price]])]),e("div",$,[ee,i(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>o.selectedProduct.quantity=t),type:"number",min:"1",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.selectedProduct.quantity]])]),e("div",te,[se,i(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>o.selectedProduct.discount=t),type:"number",min:"0",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.selectedProduct.discount]])]),e("div",oe,[le,i(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>o.selectedProduct.imageUrl=t),type:"text",class:"w-[20rem] p-2 rounded-sm"},null,512),[[a,o.selectedProduct.imageUrl]])]),re,e("div",de,[ie,i(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=t=>o.selectedProduct.desc=t),class:"min-h-[5rem] w-full max-h-[5rem]"},`\r
                                    `,512),[[a,o.selectedProduct.desc]])]),ne]),ae,ce])],32)])]))])):f("",!0),o.open_AddModal?(d(),c("div",ue,[(d(),b(x,{to:"body"},[e("div",pe,[e("form",{action:"#",onSubmit:s[19]||(s[19]=(...t)=>n.onCreateProduct&&n.onCreateProduct(...t))},[e("div",me,[e("button",{type:"button",onClick:s[10]||(s[10]=t=>o.open_AddModal=!1),class:"absolute top-2 right-3 h-fit w-fit z-10"},he),e("div",null,[e("img",{src:o.imagePreview,alt:"Preview",class:"w-[10rem] h-[10rem] object-contain border border-white"},null,8,be),e("input",{type:"file",id:"image",onChange:s[11]||(s[11]=(...t)=>n.previewImage&&n.previewImage(...t))},null,32)]),e("div",ve,[e("div",we,[xe,i(e("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=t=>o.name=t),required:"",placeholder:"Name",class:"w-full px-2 py-2 rounded-sm"},null,512),[[a,o.name]])]),e("div",fe,[ye,i(e("select",{"onUpdate:modelValue":s[13]||(s[13]=t=>o.cate_id=t),required:"",class:"w-full px-2 py-[.65rem] rounded-sm flex items-center"},[(d(!0),c(v,null,w(o.categories,t=>(d(),c("option",{key:t.name,value:t.id},u(t.name),9,ge))),128))],512),[[P,o.cate_id]])]),e("div",Pe,[Me,i(e("input",{"onUpdate:modelValue":s[14]||(s[14]=t=>o.price=t),type:"number",step:"0.01",min:"0",placeholder:"price",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.price]])]),e("div",ke,[Ue,i(e("input",{"onUpdate:modelValue":s[15]||(s[15]=t=>o.quantity=t),type:"number",min:"1",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.quantity]])]),e("div",Se,[qe,i(e("input",{"onUpdate:modelValue":s[16]||(s[16]=t=>o.discount=t),type:"number",min:"0",required:"",class:"w-[3rem] p-2 rounded-sm"},null,512),[[a,o.discount]])]),e("div",De,[Ce,i(e("input",{"onUpdate:modelValue":s[17]||(s[17]=t=>o.imageUrl=t),type:"text",class:"w-[20rem] p-2 rounded-sm"},null,512),[[a,o.imageUrl]])]),Ve,e("div",je,[Ae,i(e("textarea",{"onUpdate:modelValue":s[18]||(s[18]=t=>o.desc=t),class:"min-h-[5rem] w-full max-h-[5rem]"},`\r
                                    `,512),[[a,o.desc]])]),Ie])])],32)])]))])):f("",!0),o.open_deleteModal?(d(),c("div",Ne,[(d(),b(x,{to:"body"},[e("div",Ye,[e("div",Te,[ze,Fe,He,e("div",Be,[e("button",{onClick:s[20]||(s[20]=t=>o.open_deleteModal=!1),class:"rounded font-semibold px-4 py-1 text-white border bg-[var(--green-background)]"},"Cancel"),e("button",{onClick:s[21]||(s[21]=t=>{n.onDeleteProduct(),o.open_deleteModal=!1}),class:"rounded font-semibold px-4 py-1 text-white border bg-[var(--blood-red-background)]"},"Remove")])])])]))])):f("",!0),e("button",{onClick:s[22]||(s[22]=t=>o.open_AddModal=!0),class:"h-fit w-fit bg-blue-500 hover:bg-blue-700 text-white font-bold py-[5px] px-4 rounded"}," Add product "),e("section",Qe,[e("table",Le,[Re,e("tbody",null,[(d(!0),c(v,null,w(o.products,t=>(d(),c("tr",{key:t.name,class:"bg-white hover:bg-gray-100"},[e("td",Ee,u(t.id),1),e("td",Ge,u(t.name),1),e("td",Je,u(t.category_name),1),e("td",Ke,u(t.price),1),e("td",Oe,u(t.quantity),1),e("td",We,u(t.available?"Yes":"No"),1),e("td",Xe,u(t.discount)+"%",1),e("td",Ze,u(t.sale_count),1),e("td",$e,u(n.formatDateDDMMYY_HHMMSS(t.updated_at)),1),e("td",et,[e("button",{onClick:h=>{o.open_editeModal=!0,o.selectedProduct={...t}}},ot,8,tt),e("button",{onClick:h=>{o.open_deleteModal=!0,o.selected_id=t.id}},dt,8,lt)])]))),128))])])])])}const nt=M(T,[["render",it],["__scopeId","data-v-102512d2"]]),_t={__name:"ProductView",setup(r){return(s,p)=>(d(),c("div",null,[q(nt)]))}};export{_t as default};
