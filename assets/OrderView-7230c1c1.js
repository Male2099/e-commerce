import{o as l}from"./orderApi-a60c4867.js";import{_ as w}from"./edit-708c49a8.js";import{_ as b,o as n,c,a as e,F as x,b as y,t as a,e as u,i as f,T as g,p as m,h as v,d as S}from"./index-a6d04a70.js";const M={data(){return{orders:[],open_EditModal:!1,selectedOrder:null}},methods:{formatDateDDMMYY_HHMMSS(o){const s=new Date(o),p=s.getDate().toString().padStart(2,"0"),_=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getFullYear().toString().slice(-2),i=s.getHours().toString().padStart(2,"0"),t=s.getMinutes().toString().padStart(2,"0"),h=s.getSeconds().toString().padStart(2,"0");return`${p}-${_}-${r} ${i}:${t}:${h}`},async chnageStatusToFinish(){console.log(this.selectedOrder);const o=await l.update_AdminOnly(this.selectedOrder);this.open_EditModal=!1,o||alert("failed to change the status of order"),this.orders=await l.exclude_busyOrder()}},async mounted(){this.orders=await l.exclude_busyOrder()}},d=o=>(m("data-v-7a13430e"),o=o(),v(),o),k={class:"min-h-screen flex flex-col p-4"},D={class:"w-fit flex flex-col overflow-auto"},C={class:"table-autu max-w-4xl"},O=d(()=>e("thead",{class:"bg-[var(--dashboard-background)] font-bold text-white"},[e("tr",null,[e("th",{class:"px-3 border whitespace-nowrap py-2"},"#ID"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Customer"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Total"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"cash_receive"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Status"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Method"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Create"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Last update"),e("th",{class:"px-3 border whitespace-nowrap py-2"},"Action")])],-1)),H={class:"px-3 border whitespace-nowrap py-2"},Y={class:"px-3 border whitespace-nowrap py-2"},E={class:"px-3 border whitespace-nowrap py-2"},T={class:"px-3 border whitespace-nowrap py-2"},$={class:"px-3 border whitespace-nowrap py-2"},F={class:"px-3 border whitespace-nowrap py-2"},I={class:"px-3 border whitespace-nowrap py-2"},N={class:"px-3 border whitespace-nowrap py-2"},B={class:"px-1 flex justify-evenly items-center py-2"},V=["onClick"],j=d(()=>e("img",{src:w,class:"h-5"},null,-1)),A=[j],L=d(()=>e("button",{class:"border-[2px] rounded-full w-6 h-6 text-orange-600",style:{"border-color":"orangered"}}," ! ",-1)),z={key:0},q={class:"fixed w-[100vw] min-h-[100vh] flex justify-center items-center top-0 left-0 z-20 background-opacity-70percent-black"},G={class:"w-[350px] h-fit p-4 pb-8 flex flex-col gap-4 items-center bg-white rounded"},J=d(()=>e("div",{class:"text-[2rem] font-bold text-green-600"}," Status Change ",-1)),K=d(()=>e("div",{class:"text-[2rem] text-gray-800 font-semibold"}," Are your sure? ",-1)),P=d(()=>e("div",null,[e("p",{class:"text-center text-gray-500"}," Do you really want to change the Status to finished? This process can not be undone ")],-1)),Q={class:"flex w-full justify-around mt-4"};function R(o,s,p,_,r,i){return n(),c("div",k,[e("section",D,[e("table",C,[O,e("tbody",null,[(n(!0),c(x,null,y(r.orders,t=>(n(),c("tr",{key:t.id,class:"bg-white hover:bg-gray-100"},[e("td",H,a(t.id),1),e("td",Y,a(t.user.firstName)+"â€‚"+a(t.user.lastName),1),e("td",E,a(t.total),1),e("td",T,a(t.cash_receive),1),e("td",$,a(t.status),1),e("td",F,a(t.delivery_method),1),e("td",I,a(i.formatDateDDMMYY_HHMMSS(t.order_date)),1),e("td",N,a(i.formatDateDDMMYY_HHMMSS(t.updated_at)),1),e("td",B,[t.status!=="finished"&&t.status!=="busy"?(n(),c("button",{key:0,onClick:h=>{r.open_EditModal=!0,r.selectedOrder=t}},A,8,V)):u("",!0),L])]))),128))])])]),r.open_EditModal?(n(),c("div",z,[(n(),f(g,{to:"body"},[e("div",q,[e("div",G,[J,K,P,e("div",Q,[e("button",{onClick:s[0]||(s[0]=t=>r.open_EditModal=!1),class:"rounded font-semibold px-4 py-1 text-white border bg-[var(--green-background)]"},"Cancel"),e("button",{onClick:s[1]||(s[1]=t=>i.chnageStatusToFinish()),class:"rounded font-semibold px-4 py-1 text-white border bg-[var(--blood-red-background)]"},"Change")])])])]))])):u("",!0)])}const U=b(M,[["render",R],["__scopeId","data-v-7a13430e"]]),ee={__name:"OrderView",setup(o){return(s,p)=>(n(),c("div",null,[S(U)]))}};export{ee as default};
